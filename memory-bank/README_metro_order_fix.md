# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –º–µ—Ç—Ä–æ –≤ URL

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**

–ü–æ—Ä—è–¥–æ–∫ –º–µ—Ç—Ä–æ –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º Avito URL –º–µ–Ω—è–ª—Å—è, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫ –∏–∑ –≤—Ö–æ–¥–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
- **–í—Ö–æ–¥–Ω–æ–π —Å–ø–∏—Å–æ–∫**: `[2, 2152, 40, 38, 133, 77, 1001, 1003, 1002, 214]`
- **URL —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: `metro=2-38-40-77-133-214-1001-1002-1003-2152`
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω–µ–Ω —Å `id` –Ω–∞ `avito_id`

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ**

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω SQL-–∑–∞–ø—Ä–æ—Å –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `get_multiple_metro_avito_ids()` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –º–µ—Ç—Ä–æ.

### **–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```sql
SELECT id, name, avito_id 
FROM metro 
WHERE id IN (2,2152,40,38,133,77,1001,1003,1002,214)
AND avito_id IS NOT NULL
ORDER BY id
```

### **–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```sql
SELECT id, name, avito_id 
FROM metro 
WHERE id IN (2,2152,40,38,133,77,1001,1003,1002,214)
AND avito_id IS NOT NULL
ORDER BY array_position(ARRAY[2,2152,40,38,133,77,1001,1003,1002,214], id)
```

## üìç **–ú–µ—Å—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

**–§–∞–π–ª**: `parse_avito_1metro.py`  
**–§—É–Ω–∫—Ü–∏—è**: `get_multiple_metro_avito_ids()`  
**–°—Ç—Ä–æ–∫–∞**: ~325  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –ü–æ–ª—É—á–µ–Ω–∏–µ avito_id –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–æ

## üéØ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç array_position**

–§—É–Ω–∫—Ü–∏—è `array_position(ARRAY[...], id)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –º–∞—Å—Å–∏–≤–µ:

```
array_position(ARRAY[1,2,3,4,5], id) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
‚Ä¢ –î–ª—è id=1: –ø–æ–∑–∏—Ü–∏—è 1
‚Ä¢ –î–ª—è id=2: –ø–æ–∑–∏—Ü–∏—è 2  
‚Ä¢ –î–ª—è id=3: –ø–æ–∑–∏—Ü–∏—è 3
‚Ä¢ –î–ª—è id=4: –ø–æ–∑–∏—Ü–∏—è 4
‚Ä¢ –î–ª—è id=5: –ø–æ–∑–∏—Ü–∏—è 5
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:**
- –ú–µ—Ç—Ä–æ —Å `id=1` –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–º (–ø–æ–∑–∏—Ü–∏—è 1)
- –ú–µ—Ç—Ä–æ —Å `id=2` –±—É–¥–µ—Ç –≤—Ç–æ—Ä—ã–º (–ø–æ–∑–∏—Ü–∏—è 2)
- –ú–µ—Ç—Ä–æ —Å `id=3` –±—É–¥–µ—Ç —Ç—Ä–µ—Ç—å–∏–º (–ø–æ–∑–∏—Ü–∏—è 3)
- –ò —Ç–∞–∫ –¥–∞–ª–µ–µ...

## üîç **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã**

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```python
input_metro_ids = [2, 2152, 40, 38, 133, 77, 1001, 1003, 1002, 214]
```

### SQL-–∑–∞–ø—Ä–æ—Å:
```sql
SELECT id, name, avito_id FROM metro
WHERE id IN (2,2152,40,38,133,77,1001,1003,1002,214)
AND avito_id IS NOT NULL
ORDER BY array_position(ARRAY[2,2152,40,38,133,77,1001,1003,1002,214], id)
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç (—Å–æ—Ö—Ä–∞–Ω–µ–Ω –ø–æ—Ä—è–¥–æ–∫):
```
1. –ú–µ—Ç—Ä–æ ID: 2
2. –ú–µ—Ç—Ä–æ ID: 2152
3. –ú–µ—Ç—Ä–æ ID: 40
4. –ú–µ—Ç—Ä–æ ID: 38
5. –ú–µ—Ç—Ä–æ ID: 133
6. –ú–µ—Ç—Ä–æ ID: 77
7. –ú–µ—Ç—Ä–æ ID: 1001
8. –ú–µ—Ç—Ä–æ ID: 1003
9. –ú–µ—Ç—Ä–æ ID: 1002
10. –ú–µ—Ç—Ä–æ ID: 214
```

### URL —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
metro=2-2152-40-38-133-77-1001-1003-1002-214
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚ùå –í—Ö–æ–¥–Ω–æ–π —Å–ø–∏—Å–æ–∫: [2, 2152, 40, 38, 133, 77, 1001, 1003, 1002, 214]
‚ùå URL —Ä–µ–∑—É–ª—å—Ç–∞—Ç: metro=2-38-40-77-133-214-1001-1002-1003-2152
‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω–µ–Ω —Å id –Ω–∞ avito_id
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚úÖ –í—Ö–æ–¥–Ω–æ–π —Å–ø–∏—Å–æ–∫: [2, 2152, 40, 38, 133, 77, 1001, 1003, 1002, 214]
‚úÖ URL —Ä–µ–∑—É–ª—å—Ç–∞—Ç: metro=2-2152-40-38-133-77-1001-1003-1002-214
‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –≤—Ö–æ–¥–Ω–æ–º —Å–ø–∏—Å–∫–µ
```

## üîÑ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞**: –ü–æ—Ä—è–¥–æ–∫ –º–µ—Ç—Ä–æ –≤ URL —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –≤—Ö–æ–¥–Ω–æ–º —Å–ø–∏—Å–∫–µ
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**: –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞**: –õ–µ–≥—á–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è–º**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é PostgreSQL —Ñ—É–Ω–∫—Ü–∏—é `array_position`

## üöÄ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–æ –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:

```bash
# –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Ç—Ä–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞
python parse_avito_1metro.py --multiple-metro 2,2152,40,38,133,77,1001,1003,1002,214

# –†–µ–∑—É–ª—å—Ç–∞—Ç: URL —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º –º–µ—Ç—Ä–æ
# metro=2-2152-40-38-133-77-1001-1003-1002-214
```

## üìã **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### –§—É–Ω–∫—Ü–∏—è `array_position`:
- **–¢–∏–ø**: PostgreSQL –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –º–∞—Å—Å–∏–≤–µ
- **–°–∏–Ω—Ç–∞–∫—Å–∏—Å**: `array_position(array, element)`
- **–í–æ–∑–≤—Ä–∞—Ç**: `integer` (–ø–æ–∑–∏—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞, –Ω–∞—á–∏–Ω–∞—è —Å 1)

### –õ–æ–≥–∏–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:
```sql
ORDER BY array_position(ARRAY[2,2152,40,38,133,77,1001,1003,1002,214], id)
```

–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –ø–æ–∑–∏—Ü–∏–∏ `id` –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –º–∞—Å—Å–∏–≤–µ, —Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫.

## üéâ **–ò—Ç–æ–≥**

–ü–æ—Ä—è–¥–æ–∫ –º–µ—Ç—Ä–æ –≤ URL —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω:
- ‚ùå **–ë—ã–ª–æ**: –ü–æ—Ä—è–¥–æ–∫ –º–µ–Ω—è–ª—Å—è –∏–∑-–∑–∞ `ORDER BY id`
- ‚úÖ **–°—Ç–∞–ª–æ**: –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è `ORDER BY array_position(ARRAY[...], id)`
- üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, URL –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º –º–µ—Ç—Ä–æ

–¢–µ–ø–µ—Ä—å –ø–æ—Ä—è–¥–æ–∫ –º–µ—Ç—Ä–æ –≤ Avito URL —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –≤—Ö–æ–¥–Ω–æ–º —Å–ø–∏—Å–∫–µ! üéØ
